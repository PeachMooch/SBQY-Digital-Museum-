<template>
  <div class="homepage bg-background text-foreground">
    <!-- å…¨å±€åŠ è½½åŠ¨ç”» -->
    <div v-if="isLoading" class="page-loading-overlay">
      <div class="loading-container">
        <div class="loading-spinner-ring"></div>
        <div class="loading-text">æ­£åœ¨åŠ è½½æ•°å­—åšç‰©é¦†...</div>
        <div class="loading-progress">
          <div class="progress-bar">
            <div class="progress-fill" :style="{ width: loadingProgress + '%' }"></div>
          </div>
          <div class="progress-text">{{ loadingProgress }}%</div>
        </div>
      </div>
    </div>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <header class="header-glass fixed top-0 left-0 right-0 transition-transform duration-300 ease-in-out z-50">
      <div class="container mx-auto px-4">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center">
            <router-link to="/homepage" class="flex items-center space-x-2 hover:opacity-80 transition-opacity">
              <img 
                :src="require('@/assets/images/practice-team-logo.png')" 
                alt="å®è·µé˜Ÿlogo" 
                class="h-8 w-8 object-cover rounded-full"
              >
              <span class="text-lg font-semibold text-gray-800">æº¯æœ¬æ±‚æº <span class="text-red-500 mx-1">|</span> æ–‡æ¶¦ç»å¿ƒ</span>
            </router-link>
          </div>
          
          <div class="flex items-center space-x-4 flex-wrap">
            <!-- æ•°å­—åšç‰©é¦†å¯¼èˆª -->
            <nav class="hidden md:flex items-center space-x-4">
              <router-link to="/heropage" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-red-600 transition-colors bg-red-50 rounded-md border border-red-200">
                âœ¨ å®è·µé˜Ÿé£é‡‡å±•ç¤º
              </router-link>
              <span class="text-gray-400">|</span>
              <router-link to="/home" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-red-600 transition-colors">
                æ•°å­—åšç‰©é¦†
              </router-link>
              <span class="text-gray-400">|</span>
              <router-link to="/agriculture" class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-red-600 transition-colors">
                å†œä¸šéé—ç‰¹å±•
              </router-link>
            </nav>
            
            <button @click="toggleTheme" class="flex items-center justify-center p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
              <i data-lucide="moon" class="h-5 w-5"></i>
            </button>
          </div>
        </div>
      </div>
    </header>
    
    <!-- ä¸»å†…å®¹ -->
    <main class="min-h-screen pt-16">
      <!-- Hero åŒºåŸŸ - è½®æ’­å›¾ -->
      <div class="hero-carousel-section relative overflow-hidden">
        <!-- Swiper è½®æ’­å›¾ -->
        <div class="swiper-container" ref="swiperContainer">
          <div class="swiper-wrapper">
            <!-- ç¬¬ä¸€å¼ è½®æ’­å›¾ -->
            <div class="swiper-slide" :style="{ backgroundImage: `url(${slideImages.ppt1})` }">
            </div>
            
            <!-- ç¬¬äºŒå¼ è½®æ’­å›¾ -->
            <div class="swiper-slide" :style="{ backgroundImage: `url(${slideImages.ppt2})` }">
            </div>
            
            <!-- ç¬¬ä¸‰å¼ è½®æ’­å›¾ -->
            <div class="swiper-slide" :style="{ backgroundImage: `url(${slideImages.ppt3})` }">
            </div>
          </div>
          
          <!-- åˆ†é¡µå™¨ -->
          <div class="swiper-pagination"></div>
          
          <!-- å¯¼èˆªæŒ‰é’® -->
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
      
      <!-- å›¢é˜Ÿç®€ä»‹ -->
      <section class="team-section" id="team">
        <div class="container mx-auto px-4">
          <div class="team-hero">
            <div class="team-brand">
              <img 
                class="team-logo" 
                :src="teamInfo.logo" 
                alt="å›¢é˜Ÿ Logo"
                v-show="!isLoading"
              />
              <div>
                <h3 class="team-name">{{ teamInfo.name }}</h3>
                <p class="team-slogan">{{ teamInfo.slogan }}</p>
              </div>
            </div>
            <p class="team-intro">{{ teamInfo.intro }}</p>
          </div>

          <div class="team-intro-grid">
            <div class="team-card">
              <div class="team-card-title">ä½¿å‘½ä¸æ„¿æ™¯</div>
              <p class="team-card-text">
                ä»¥â€œå‘ç°â€”è®°å½•â€”ä¼ æ’­â€ä¸ºè·¯å¾„ï¼Œå®ˆæŠ¤å¹¶æ´»åŒ–åœ¨åœ°æ–‡åŒ–è®°å¿†ï¼›ä»¥é’å¹´åŠ›é‡æ¨åŠ¨éé—èµ°å…¥å½“ä»£ç”Ÿæ´»ï¼ŒåŠ©åŠ›ä¹¡æ‘æ–‡åŒ–æŒ¯å…´ä¸å…¬å…±æ–‡åŒ–æœåŠ¡ä¼˜åŒ–ã€‚
              </p>
              <ul class="bullet-list">
                <li>å‘ç°ï¼šç”°é‡èµ°è®¿ï¼Œå®šä½çœŸå®é—®é¢˜ä¸éœ€æ±‚</li>
                <li>è®°å½•ï¼šæ ‡å‡†åŒ–æ–¹æ³•æ²‰æ·€å¯å¤ç”¨çŸ¥è¯†</li>
                <li>ä¼ æ’­ï¼šæ•°å­—åŒ–å™äº‹ï¼Œä¿ƒè¿›ç¤¾ä¼šå‚ä¸</li>
              </ul>
            </div>

            <div class="team-card">
              <div class="team-card-title">æŒ‡å¯¼è€å¸ˆ</div>
              <ul class="advisors-list">
                <li v-for="a in advisors" :key="a.name" class="advisor-item">
                  <div class="avatar">ğŸ‘©â€ğŸ«</div>
                  <div>
                    <div class="name">{{ a.name }}</div>
                    <div class="meta">{{ a.title }}</div>
                  </div>
                </li>
              </ul>
            </div>

            <div class="team-card">
              <div class="team-card-title">æˆå‘˜ä¸åˆ†å·¥</div>
              <ul class="members-list">
                <li v-for="m in teamMembers" :key="m.name" class="member-item">
                  <span class="tag">{{ m.role }}</span>
                  <span class="name">{{ m.name }}</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- ç¤¾ä¼šå®è·µæˆæœå±•ç¤ºåŒºåŸŸ -->
      <section class="map-section">
        <div class="container mx-auto px-4 py-8">
          <!-- å®è·µé˜Ÿä»‹ç» -->
          <div class="text-center mb-12">
            <h2 class="text-4xl font-bold mb-4 gradient-title">
              ç¤¾ä¼šå®è·µè¶³è¿¹
            </h2>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed">
              æˆ‘ä»¬çš„ç¤¾ä¼šå®è·µé˜Ÿæ·±å…¥å±±è¥¿ã€å±±ä¸œä¸¤çœï¼Œå¼€å±•å®åœ°è°ƒç ”æ´»åŠ¨ã€‚é€šè¿‡èµ°è®¿è°ƒç ”ã€å®åœ°è§‚å¯Ÿã€æ·±åº¦è®¿è°ˆç­‰å½¢å¼ï¼Œ
              æ·±å…¥äº†è§£å½“åœ°ç»æµç¤¾ä¼šå‘å±•çŠ¶å†µï¼Œç§¯ç´¯äº†å®è´µçš„å®è·µç»éªŒå’Œç ”ç©¶æˆæœã€‚
            </p>
            <div class="flex justify-center items-center gap-6 mt-6">
              <div class="flex items-center gap-2">
                <div class="w-4 h-4 bg-red-600 rounded-full"></div>
                <span class="text-sm font-medium text-gray-700">å®è·µç›®çš„åœ°</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-lg">ğŸ¯</span>
                <span class="text-sm font-medium text-gray-700">è°ƒç ”ç‚¹ä½</span>
              </div>
            </div>
          </div>
          
          <!-- åœ°å›¾å±•ç¤º -->
          <div class="flex items-start justify-between gap-8 max-w-6xl mx-auto">
            <!-- å·¦ä¾§ï¼šå®è·µæˆæœçº¢è‰²æŒ‰é’® -->
            <aside class="results-aside results-left">
              <button @click="showPracticeResults" class="practice-success-btn">
                <div class="btn-content">
                  <div class="btn-icon">ğŸ†</div>
                  <div class="btn-text">å®è·µæˆæœ</div>
                </div>
              </button>
            </aside>

            <!-- ä¸­é—´ï¼šåœ°å›¾ -->
            <div class="flex-1 max-w-4xl">
              <div ref="chinaChart" class="china-map">
                <div v-if="mapLoading" class="loading-indicator">
                  <div class="loading-spinner"></div>
                  <span>æ­£åœ¨åŠ è½½å®è·µè¶³è¿¹åœ°å›¾...</span>
                </div>
                <!-- å·¦ä¸Šè§’å›¢é˜Ÿ Logo -->
                <img
                  :src="require('@/assets/images/practice-team-logo.png')"
                  alt="å®è·µé˜Ÿlogo"
                  class="map-corner-logo"
                >
              </div>
            </div>

            <!-- å³ä¾§ï¼šæˆæœç»Ÿè®¡å¡ï¼ˆæ¡Œé¢ç«¯æ˜¾ç¤ºï¼‰ -->
            <aside class="results-aside results-right">
              <div class="mini-cards">
                <div class="mini-card">
                  <div class="mini-icon un">UN</div>
                  <div>
                    <div class="mini-num">1</div>
                    <div class="mini-label">è”åˆå›½çº§</div>
                  </div>
                </div>
                <div class="mini-card">
                  <div class="mini-icon national">å›½</div>
                  <div>
                    <div class="mini-num">4</div>
                    <div class="mini-label">å›½å®¶çº§</div>
                  </div>
                </div>
                <div class="mini-card">
                  <div class="mini-icon provincial">çœ</div>
                  <div>
                    <div class="mini-num">5</div>
                    <div class="mini-label">çœçº§</div>
                  </div>
                </div>
                <div class="mini-card">
                  <div class="mini-icon municipal">å¸‚</div>
                  <div>
                    <div class="mini-num">1</div>
                    <div class="mini-label">å¸‚çº§</div>
                  </div>
                </div>
                <div class="mini-card">
                  <div class="mini-icon neutral">ğŸ¤</div>
                  <div>
                    <div class="mini-num">14</div>
                    <div class="mini-label">ç¯‡é‡‡è®¿</div>
                  </div>
                </div>
                <div class="mini-card">
                  <div class="mini-icon neutral">ğŸ“„</div>
                  <div>
                    <div class="mini-num">4ä¸‡</div>
                    <div class="mini-label">å­—è°ƒæŸ¥æŠ¥å‘Š</div>
                  </div>
                </div>
                <div class="mini-card">
                  <div class="mini-icon neutral">ğŸ›ï¸</div>
                  <div>
                    <div class="mini-num">11</div>
                    <div class="mini-label">éé—é¡¹ç›®</div>
                  </div>
                </div>
              </div>
            </aside>
          </div>
          
          <!-- éé—çº§åˆ«ç»Ÿè®¡ï¼ˆç§»åŠ¨ç«¯æ˜¾ç¤ºï¼‰ -->
          <div class="results-cards-mobile mt-16 grid grid-cols-2 md:grid-cols-4 gap-4 max-w-3xl mx-auto">
            <div class="stat-card heritage-level-card">
              <div class="text-center">
                <div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center mx-auto mb-4">
                  <span class="text-xl text-white font-bold">UN</span>
                </div>
                <h3 class="text-2xl font-bold text-yellow-600 mb-2">1</h3>
                <p class="text-gray-600 font-medium">è”åˆå›½çº§</p>
              </div>
            </div>
            
            <div class="stat-card heritage-level-card">
              <div class="text-center">
                <div class="w-12 h-12 bg-gradient-to-br from-red-500 to-red-700 rounded-full flex items-center justify-center mx-auto mb-4">
                  <span class="text-xl text-white font-bold">å›½</span>
                </div>
                <h3 class="text-2xl font-bold text-red-600 mb-2">4</h3>
                <p class="text-gray-600 font-medium">å›½å®¶çº§</p>
              </div>
            </div>
            
            <div class="stat-card heritage-level-card">
              <div class="text-center">
                <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full flex items-center justify-center mx-auto mb-4">
                  <span class="text-xl text-white font-bold">çœ</span>
                </div>
                <h3 class="text-2xl font-bold text-blue-600 mb-2">5</h3>
                <p class="text-gray-600 font-medium">çœçº§</p>
              </div>
            </div>
            
            <div class="stat-card heritage-level-card">
              <div class="text-center">
                <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-700 rounded-full flex items-center justify-center mx-auto mb-4">
                  <span class="text-xl text-white font-bold">å¸‚</span>
                </div>
                <h3 class="text-2xl font-bold text-green-600 mb-2">1</h3>
                <p class="text-gray-600 font-medium">å¸‚çº§</p>
              </div>
            </div>
          </div>
          
          <!-- è°ƒç ”æˆæœç»Ÿè®¡ï¼ˆç§»åŠ¨ç«¯æ˜¾ç¤ºï¼‰ -->
          <div class="results-cards-mobile mt-12 grid grid-cols-1 md:grid-cols-3 gap-6 max-w-3xl mx-auto">
            <div class="stat-card">
              <div class="text-center">
                <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                  <span class="text-2xl">ğŸ¤</span>
                </div>
                <h3 class="text-2xl font-bold text-red-600 mb-2">14</h3>
                <p class="text-gray-600 font-medium">ç¯‡é‡‡è®¿</p>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="text-center">
                <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                  <span class="text-2xl">ğŸ“„</span>
                </div>
                <h3 class="text-2xl font-bold text-red-600 mb-2">4ä¸‡</h3>
                <p class="text-gray-600 font-medium">å­—è°ƒæŸ¥æŠ¥å‘Š</p>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="text-center">
                <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                  <span class="text-2xl">ğŸ›ï¸</span>
                </div>
                <h3 class="text-2xl font-bold text-red-600 mb-2">11</h3>
                <p class="text-gray-600 font-medium">éé—é¡¹ç›®</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- éé—é¡¹ç›®è¯¦ç»†å±•ç¤º -->
      <section class="heritage-projects-section">
        <div class="container mx-auto px-4">
          <h3 class="section-title">éé—é¡¹ç›®è¯¦è§ˆ</h3>
          
          <!-- é¡¹ç›®åˆ†ç±»å±•ç¤º -->
          <div class="heritage-categories">
            <!-- è”åˆå›½çº§ -->
            <div class="heritage-category">
              <div class="category-header">
                <div class="level-badge level-un">è”åˆå›½çº§</div>
                <h4 class="category-title">è”åˆå›½æ•™ç§‘æ–‡ç»„ç»‡éç‰©è´¨æ–‡åŒ–é—äº§åå½•</h4>
              </div>
              <div class="projects-grid">
                <div class="project-card">
                  <div class="project-name">è”åˆå›½æ•™ç§‘æ–‡ç»„ç»‡éç‰©è´¨æ–‡åŒ–é—äº§åå½•</div>
                  <div class="project-region">å›½é™…è®¤å®š</div>
                </div>
              </div>
            </div>

            <!-- å›½å®¶çº§ -->
            <div class="heritage-category">
              <div class="category-header">
                <div class="level-badge level-national">å›½å®¶çº§</div>
                <h4 class="category-title">å›½å®¶çº§éç‰©è´¨æ–‡åŒ–é—äº§ (4é¡¹)</h4>
              </div>
              <div class="projects-grid">
                <div class="project-card">
                  <div class="project-name">é””ç“·å †</div>
                  <div class="project-region">å±±ä¸œçœ</div>
                </div>
                <div class="project-card">
                  <div class="project-name">é£ç­</div>
                  <div class="project-region">å±±ä¸œçœ</div>
                </div>
                <div class="project-card">
                  <div class="project-name">æ¨å®¶åŸ æœ¨ç‰ˆå¹´ç”»</div>
                  <div class="project-region">å±±ä¸œçœ</div>
                </div>
                <div class="project-card">
                  <div class="project-name">æ½åŠå‰ªçº¸</div>
                  <div class="project-region">å±±ä¸œçœ</div>
                </div>
              </div>
            </div>

            <!-- çœçº§ -->
            <div class="heritage-category">
              <div class="category-header">
                <div class="level-badge level-provincial">çœçº§</div>
                <h4 class="category-title">çœçº§éç‰©è´¨æ–‡åŒ–é—äº§ (5é¡¹)</h4>
              </div>
              <div class="projects-grid">
                <div class="project-card">
                  <div class="project-name">èƒ¶ä¸œä¼ ç»Ÿæ‰‹ä½œé¦™</div>
                  <div class="project-region">å±±ä¸œçœ</div>
                </div>
                <div class="project-card">
                  <div class="project-name">æ±‰æœåˆ¶ä½œæŠ€è‰º</div>
                  <div class="project-region">ä¼ ç»Ÿæœé¥°</div>
                </div>
                <div class="project-card">
                  <div class="project-name">å›½ç”»æŠ€è‰º</div>
                  <div class="project-region">ä¼ ç»Ÿç»˜ç”»</div>
                </div>
                <div class="project-card">
                  <div class="project-name">æ‰‹å¡‘å·¥è‰º</div>
                  <div class="project-region">ä¼ ç»Ÿæ‰‹å·¥</div>
                </div>
                <div class="project-card">
                  <div class="project-name">æ ¸é›•æŠ€è‰º</div>
                  <div class="project-region">å¾®é›•è‰ºæœ¯</div>
                </div>
              </div>
            </div>

            <!-- å¸‚çº§ -->
            <div class="heritage-category">
              <div class="category-header">
                <div class="level-badge level-municipal">å¸‚çº§</div>
                <h4 class="category-title">å¸‚çº§éç‰©è´¨æ–‡åŒ–é—äº§ (1é¡¹)</h4>
              </div>
              <div class="projects-grid">
                <div class="project-card">
                  <div class="project-name">çƒŸå°å¸‚çº§éç‰©è´¨æ–‡åŒ–é—äº§é¡¹ç›®</div>
                  <div class="project-region">å±±ä¸œçœçƒŸå°</div>
                </div>
              </div>
            </div>
          </div>

          <!-- åœ°åŸŸåˆ†å¸ƒæ€»ç»“ -->
          <div class="heritage-summary">
            <div class="summary-item">
              <span class="summary-number">10</span>
              <span class="summary-label">å±±ä¸œçœé¡¹ç›®</span>
            </div>
            <div class="summary-item">
              <span class="summary-number">1</span>
              <span class="summary-label">å±±è¥¿çœé¡¹ç›®</span>
            </div>
            <div class="summary-item">
              <span class="summary-number">11</span>
              <span class="summary-label">æ€»è®¡é¡¹ç›®</span>
            </div>
          </div>
        </div>
      </section>

      <!-- å…³é”®æ•°æ®æ€»è§ˆï¼ˆæ‰©å±•ç‰ˆï¼‰ -->
      <section class="stats-extended">
        <div class="container mx-auto px-4">
          <h3 class="section-title">å…³é”®æ•°æ®æ€»è§ˆ</h3>
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon">ğŸ‘¥</div>
              <div class="stat-num">128+</div>
              <div class="stat-desc">æ·±åº¦è®¿è°ˆå¯¹è±¡</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ“</div>
              <div class="stat-num">186,000+</div>
              <div class="stat-desc">æŠ¥å‘Šæ’°å†™å­—æ•°</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ›ï¸</div>
              <div class="stat-num">2 çœ 3 å¸‚</div>
              <div class="stat-desc">è¦†ç›–åŒºåŸŸ</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ·ï¸</div>
              <div class="stat-num">27 é¡¹</div>
              <div class="stat-desc">éé—é¡¹ç›®ï¼ˆå›½å®¶/çœ/å¸‚çº§ï¼‰</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ¥</div>
              <div class="stat-num">530+</div>
              <div class="stat-desc">å½±åƒç´ æï¼ˆç…§ç‰‡/è§†é¢‘ï¼‰</div>
            </div>
          </div>
        </div>
      </section>

      <!-- éé—åˆ†çº§ç»Ÿè®¡ Â· å¯è§†åŒ–å›¾è¡¨ï¼ˆEChartsï¼‰ -->
      <section class="heritage-charts">
        <div class="container mx-auto px-4">
          <h3 class="section-title">éé—åˆ†çº§ä¸åŸå¸‚åˆ†å¸ƒ</h3>
          <div class="charts-grid">
            <div class="chart-box">
              <div class="chart-title">åˆ†çº§å æ¯”</div>
              <div ref="heritageLevelChart" class="chart-canvas"></div>
            </div>
            <div class="chart-box">
              <div class="chart-title">åŸå¸‚å±•é¡¹æ•°é‡</div>
              <div ref="cityCountChart" class="chart-canvas"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- é‡ç‚¹æˆæœ - äº¤é”™å›¾æ–‡å— -->
      <section class="features-alt">
        <div class="container mx-auto px-4">
          <div class="feature-row">
            <div class="feature-text">
              <h4>ç”°é‡è®¿è°ˆ Â· çœŸå®å£°éŸ³</h4>
              <p>ä»¥â€œäººâ€ä¸ºä¸­å¿ƒçš„ç”°é‡å·¥ä½œï¼Œå›´ç»•éé—ä¼ æ‰¿ã€æ‘è½è®°å¿†ä¸äº§ä¸šæŒ¯å…´ä¸‰å¤§ä¸»é¢˜ï¼Œé‡‡é›†å¯è¿½æº¯çš„å£è¿°å²ä¸ç”Ÿæ´»å²èµ„æ–™ï¼Œä¸ºåç»­åˆ†æä¸å±•ç¤ºæä¾›ç¬¬ä¸€æ‰‹è¯æ®ã€‚</p>
              <ul class="feature-list">
                <li>é‡‡é›†èŒƒå›´ï¼š2 çœ 3 å¸‚ 27 ä¸ªéé—é¡¹ç›®ï¼Œå…¸å‹æ ·æœ¬å…¨è¦†ç›–</li>
                <li>æ ¸å¿ƒæ–¹æ³•ï¼šåŠç»“æ„åŒ–è®¿è°ˆ + å‚ä¸å¼è§‚å¯Ÿ + èµ„æ–™æ ¡æ ¸</li>
                <li>è¯æ®å½¢æ€ï¼šéŸ³é¢‘ / è§†é¢‘ / ç…§ç‰‡ / æ–‡å­—å››é‡å­˜è¯ï¼Œå…ƒæ•°æ®è§„èŒƒåŒ–</li>
              </ul>
              <div class="feature-badges">
                <span class="badge badge-red">128+ æ·±åº¦è®¿è°ˆ</span>
                <span class="badge">530+ å½±åƒç´ æ</span>
                <span class="badge">15+ ä¸»é¢˜ä¸“é¢˜</span>
              </div>
              <div class="feature-cta">
                <button class="btn btn-primary" @click="showPracticeResults">æŸ¥çœ‹è®¿è°ˆèŠ‚é€‰</button>
                <button class="btn btn-ghost">æŸ¥çœ‹æ ·æœ¬ç”»åƒ</button>
              </div>
            </div>
            <div class="feature-media">
              <img :src="require('@/assets/images/home-03-270x360.jpg')" alt="è®¿è°ˆç°åœº">
            </div>
          </div>

          <div class="feature-row reverse">
            <div class="feature-text">
              <h4>æŠ¥å‘Šä½“ç³» Â· æ•°æ®é©±åŠ¨</h4>
              <p>ä»æ•°æ®åˆ°æ´è§ï¼šä»¥æ ‡å‡†åŒ–æµç¨‹å®Œæˆâ€œé‡‡é›†â€”æ¸…æ´—â€”ç¼–ç â€”åˆ†æâ€”å¯è§†åŒ–â€”æ’°å†™â€”å‘å¸ƒâ€ï¼Œå½¢æˆå¯å¤ç”¨çš„ç ”ç©¶æ¡†æ¶ä¸å®è·µå·¥å…·åŒ…ã€‚</p>
              <div class="progress-wrap">
                <div class="progress-item">
                  <span>åŸºç¡€è°ƒç ”</span>
                  <div class="progress-bar"><i style="width: 88%"></i></div>
                </div>
                <div class="progress-item">
                  <span>å£è¿°å²æ•´ç†</span>
                  <div class="progress-bar"><i style="width: 72%"></i></div>
                </div>
                <div class="progress-item">
                  <span>æŠ¥å‘Šæ’°å†™</span>
                  <div class="progress-bar"><i style="width: 64%"></i></div>
                </div>
              </div>
              <div class="feature-badges">
                <span class="badge badge-red">å¼€æ”¾æ•°æ®é›†</span>
                <span class="badge">å¯è§†åŒ–æ¨¡ç‰ˆ</span>
                <span class="badge">æ”¿ç­–å»ºè®®æ‘˜è¦</span>
              </div>
              <div class="feature-cta">
                <button class="btn btn-primary">ä¸‹è½½æ€»ç»“æŠ¥å‘Š</button>
                <button class="btn btn-ghost">æŸ¥çœ‹æ–¹æ³•è®º</button>
              </div>
            </div>
            <div class="feature-media">
              <img :src="require('@/assets/images/home-02-270x360.jpg')" alt="æŠ¥å‘Šæ’°å†™">
            </div>
          </div>
        </div>
      </section>

      <!-- é¡¹ç›®å‘å±•ï¼ˆå‚è€ƒå‘å±•å†ç¨‹æ ·å¼ï¼‰ -->
      <section class="timeline-section timeline-vertical">
        <div class="container mx-auto px-4">
          <h3 class="section-title">é¡¹ç›®å‘å±•</h3>
          <div class="timeline-grid">
            <!-- ä¸»åˆ— -->
            <div class="timeline-main">
              <div class="year-large">2024</div>
              <ul class="timeline-list">
                <li v-for="(item,idx) in displayedTimelineItems" :key="idx" class="tlv-item">
                  <div class="tlv-title">{{ item.title }}</div>
                  <div class="tlv-meta">{{ item.meta }}</div>
                  <div class="tlv-desc">{{ item.desc }}</div>
                </li>
                <li v-if="!displayedTimelineItems.length" class="tlv-item">
                  <div class="tlv-title">æœ¬æœˆæš‚æ— äº‹ä»¶</div>
                  <div class="tlv-meta">{{ activeMonth }} æœˆ</div>
                  <div class="tlv-desc">è¯·åˆ‡æ¢å³ä¾§æœˆä»½æŸ¥çœ‹å…¶ä»–é˜¶æ®µè¿›å±•ã€‚</div>
                </li>
              </ul>
              <div class="timeline-more">å±•å¼€æ›´å¤š</div>
              </div>

            <!-- å³ä¾§å¹´ä»½å¯¼èˆª -->
            <aside class="year-side">
              <ul>
                <li v-for="m in timelineMonths" :key="m" :class="{active: m===activeMonth}" @click="setMonth(m)">{{ m }}æœˆ</li>
              </ul>
            </aside>
          </div>
        </div>
      </section>
    </main>
    
    <!-- é¡µè„šï¼ˆå†…å®¹ç”±ä½ åç»­è¡¥å……ï¼‰ -->
    <footer class="site-footer">
      <div class="container mx-auto px-4">
        <div class="footer-inner">
          <div class="footer-brand">
            <div class="brand-name">å¤©æ´¥å¤§å­¦ç®¡ç†ä¸ç»æµå­¦éƒ¨</div>
            <div class="brand-desc">å†…å®¹å¾…è¡¥å……</div>
          </div>
          <div class="footer-content"><!-- ä½ å¯ä»¥åœ¨æ­¤å¤„è¡¥å……é¡µè„šè¯¦ç»†å†…å®¹ --></div>
        </div>
      </div>
    </footer>
  </div>
</template>

<script>
export default {
  name: 'HomePageView',
  data() {
    return {
      isLoading: true,
      loadingProgress: 0,
      mapLoading: true,
      swiper: null,
      echarts: null,
      chart: null, // ä¿ç•™ï¼Œä¾›å…¶ä»–å›¾è¡¨ä½¿ç”¨
      mapChart: null, // ä¸“ç”¨äºåœ°å›¾å®ä¾‹ï¼Œé¿å…ä¸å…¶ä»–å›¾è¡¨å†²çª
      cityChart: null,
      currentMapLevel: 'china', // china | province
      currentProvince: null,
      slideImages: {
        ppt1: require('@/assets/images/ppt1.jpg'),
        ppt2: require('@/assets/images/ppt2.jpg'),
        ppt3: require('@/assets/images/ppt3.jpg')
      },
      // å›¢é˜Ÿä¿¡æ¯
      teamInfo: {
        name: 'æº¯æœ¬æ±‚æº | æ–‡æ¶¦ç»å¿ƒ',
        slogan: 'ä»¥æ•°å™äº‹ï¼Œè§è¯éé—çš„å½“ä»£ç”Ÿå‘½åŠ›',
        intro: 'æˆ‘ä»¬æ˜¯ä¸€æ”¯è·¨ä¸“ä¸šé’å¹´å›¢é˜Ÿï¼Œèšç„¦éé—æ•°å­—åŒ–ã€ç¤¾åŒºè¥é€ ä¸å…¬å…±æ–‡åŒ–æœåŠ¡ï¼Œé€šè¿‡ç”°é‡é‡‡é›†ã€å¯è§†åŒ–ä¸æ•…äº‹åŒ–å‘ˆç°ï¼Œæ¨åŠ¨â€œçœ‹è§â€”ç†è§£â€”è¡ŒåŠ¨â€çš„ç¤¾ä¼šå‚ä¸ã€‚',
        logo: require('@/assets/images/logo.png')
      },
      advisors: [
        { name: 'å¼ è€å¸ˆ', title: 'æ–‡åŒ–é—äº§ç ”ç©¶æ‰€ å‰¯æ•™æˆ' },
        { name: 'æè€å¸ˆ', title: 'å…¬å…±ç®¡ç†å­¦é™¢ è®²å¸ˆ' }
      ],
      teamMembers: [
        { name: 'ç‹åŒå­¦', role: 'é¡¹ç›®ç»Ÿç­¹' },
        { name: 'åˆ˜åŒå­¦', role: 'æ–¹æ³•è®¾è®¡' },
        { name: 'é™ˆåŒå­¦', role: 'æ•°æ®å¯è§†åŒ–' },
        { name: 'èµµåŒå­¦', role: 'å½±åƒè®°å½•' },
        { name: 'å­™åŒå­¦', role: 'è°ƒç ”ä¸æ’°å†™' }
      ],
      // æ—¶é—´è½´æ•°æ®ä¸çŠ¶æ€
      activeMonth: new Date().getMonth() + 1,
      timelineMonths: [1,2,3,4,5,6,7,8,9,10,11,12],
      timelineDataByMonth: {
        3: [{ title: 'ç«‹é¡¹ä¸è·¯çº¿è®¾è®¡', meta: '3 æœˆ', desc: 'ç¡®å®šä¸¤çœä¸‰å¸‚ç‚¹ä½ï¼Œå®Œå–„è®¿è°ˆæçº²ä¸é‡‡é›†è§„èŒƒã€‚' }],
        5: [{ title: 'ç”°é‡è¸å‹˜ä¸é‡‡é›†', meta: '5â€“6 æœˆ', desc: 'å®Œæˆæ ¸å¿ƒæ ·æœ¬è®¿è°ˆï¼Œæ”¶é›†éŸ³è§†é¢‘ä¸å®ç‰©å½±åƒç´ æã€‚' }],
        6: [{ title: 'ç”°é‡è¸å‹˜ä¸é‡‡é›†', meta: '5â€“6 æœˆ', desc: 'å®Œæˆæ ¸å¿ƒæ ·æœ¬è®¿è°ˆï¼Œæ”¶é›†éŸ³è§†é¢‘ä¸å®ç‰©å½±åƒç´ æã€‚' }],
        7: [{ title: 'æ•´ç†ä¸æ’°å†™', meta: '7â€“8 æœˆ', desc: 'å½¢æˆé˜¶æ®µæŠ¥å‘Šä¸å¯è§†åŒ–å›¾è¡¨ï¼Œæ‰“ç£¨å±•é™ˆæ–‡æ¡ˆã€‚' }],
        8: [{ title: 'æ•´ç†ä¸æ’°å†™', meta: '7â€“8 æœˆ', desc: 'å½¢æˆé˜¶æ®µæŠ¥å‘Šä¸å¯è§†åŒ–å›¾è¡¨ï¼Œæ‰“ç£¨å±•é™ˆæ–‡æ¡ˆã€‚' }],
        9: [{ title: 'æ•°å­—åŒ–å‘ˆç°', meta: '9 æœˆ', desc: 'ä¸Šçº¿æ•°å­—å±•é¦†åŸå‹ï¼Œå‘å¸ƒå…¬å¼€æˆæœã€‚' }]
      }
    }
  },
  mounted() {
    // å¼ºåˆ¶æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨
    window.scrollTo(0, 0);
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
    
    this.startLoading();
  },
  computed: {
    displayedTimelineItems() {
      return this.timelineDataByMonth[this.activeMonth] || [];
    }
  },
  beforeDestroy() {
    if (this.swiper) {
      this.swiper.destroy();
    }
    if (this.chart) {
      this.chart.dispose();
    }
  },
  methods: {
    setMonth(m) { this.activeMonth = m; },
    
    // å¼€å§‹åŠ è½½æµç¨‹ï¼ˆçœŸå®åŠ è½½ï¼šå›¾ç‰‡ã€CDNè„šæœ¬ã€åœ°å›¾æ•°æ®ã€Swiperå®ä¾‹ï¼‰
    async startLoading() {
      try {
        // æ­¥éª¤1: é¢„åŠ è½½å›¾ç‰‡ (30%)
        await this.preloadImages();
        this.updateLoadingProgress(30);
        
        // æ­¥éª¤2: åŠ è½½é¦–é¡µèµ„æº (60%)
        await this.loadHomepageAssets();
        this.updateLoadingProgress(60);
        
        // æ­¥éª¤3: åˆå§‹åŒ–å›¾è¡¨ (90%)
        await this.initCharts();
        this.updateLoadingProgress(90);
        
        // æ­¥éª¤4: å®ŒæˆåŠ è½½ (100%)
        this.updateLoadingProgress(100);
        
        // å»¶è¿Ÿä¸€ç‚¹æ—¶é—´è®©ç”¨æˆ·çœ‹åˆ°100%ï¼Œç„¶åéšè—åŠ è½½ç•Œé¢
        setTimeout(() => { this.isLoading = false; }, 200);
        
      } catch (error) {
        // å³ä½¿å‡ºé”™ä¹Ÿè¦éšè—åŠ è½½ç•Œé¢
        setTimeout(() => {
          this.isLoading = false;
        }, 1000);
      }
    },
    
    // æ›´æ–°åŠ è½½è¿›åº¦
    updateLoadingProgress(progress) {
      const startProgress = this.loadingProgress;
      const difference = progress - startProgress;
      const steps = 20;
      const stepSize = difference / steps;
      
      let currentStep = 0;
      const interval = setInterval(() => {
        currentStep++;
        this.loadingProgress = Math.min(startProgress + (stepSize * currentStep), progress);
        
        if (currentStep >= steps || this.loadingProgress >= progress) {
          clearInterval(interval);
          this.loadingProgress = progress;
        }
      }, 50);
    },
    
    // é¢„åŠ è½½å›¾ç‰‡
    preloadImages() {
      return new Promise((resolve) => {
        const images = [
          this.slideImages.ppt1,
          this.slideImages.ppt2,
          this.slideImages.ppt3,
          require('@/assets/images/practice-team-logo.png'),
          require('@/assets/images/logo.png')
        ];
        
        let loadedCount = 0;
        const totalImages = images.length;
        
        if (totalImages === 0) {
          resolve();
          return;
        }
        
        // é¢„åŠ è½½æ‰€æœ‰å›¾ç‰‡
        images.forEach(src => {
          const img = new Image();
          img.onload = img.onerror = () => {
            loadedCount++;
            if (loadedCount === totalImages) {
              resolve();
            }
          };
          img.src = src;
        });
      });
    },
    loadHomepageAssets() {
      return new Promise((resolve) => {
        let loadedCount = 0;
        const totalAssets = 3; // Swiper CSS, ECharts(+åœ°å›¾), Swiper JS
        
        const checkComplete = () => {
          loadedCount++;
          if (loadedCount >= totalAssets) {
            resolve();
          }
        };
        
        // åŠ è½½Tailwind CSSï¼ˆä»…å¼€å‘ç¯å¢ƒä½¿ç”¨ CDNï¼Œç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨æ„å»ºé›†æˆï¼‰
        const isProduction = process.env.NODE_ENV === 'production';
        if (!isProduction && !document.querySelector('script[src*="tailwindcss"]')) {
          const tailwindScript = document.createElement('script');
          tailwindScript.src = 'https://cdn.tailwindcss.com';
          document.head.appendChild(tailwindScript);
        }

        // åŠ è½½Swiper CSS
        if (!document.querySelector('link[href*="swiper"]')) {
          const swiperCSS = document.createElement('link');
          swiperCSS.rel = 'stylesheet';
          swiperCSS.href = 'https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css';
          swiperCSS.onload = checkComplete;
          swiperCSS.onerror = checkComplete;
          document.head.appendChild(swiperCSS);
        } else {
          checkComplete();
        }

        // åŠ è½½ECharts å¹¶æ³¨å†Œä¸­å›½åœ°å›¾ï¼ˆçœçº§ GeoJSONï¼‰
        const ensureEchartsLoaded = () => new Promise((resolve) => {
          if (window.echarts) { resolve(); return; }
          const echartsScript = document.createElement('script');
          echartsScript.src = 'https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js';
          echartsScript.onload = resolve;
          echartsScript.onerror = resolve;
          document.head.appendChild(echartsScript);
        });

        const loadChinaMap = () => new Promise((resolve) => {
          // çœçº§è¡Œæ”¿åŒºåˆ’ GeoJSONï¼ˆå«è¾¹ç•Œä¸å¤šè¾¹å½¢ï¼‰
          const url = 'https://geo.datav.aliyun.com/areas_v3/bound/geojson?code=100000_full';
          fetch(url)
            .then((r) => r.json())
            .then((geojson) => {
              if (window.echarts && geojson) {
                window.echarts.registerMap('china', geojson);
              }
              resolve();
            })
            .catch(() => resolve());
        });

        ensureEchartsLoaded().then(() => {
          this.echarts = window.echarts;
          loadChinaMap().then(() => {
            this.initMap();
            checkComplete();
          });
        });

        // åŠ è½½Lucide Icons (éå¿…éœ€ï¼Œä¸è®¡å…¥åŠ è½½è¿›åº¦)
        if (!window.lucide) {
          const lucideScript = document.createElement('script');
          lucideScript.src = 'https://unpkg.com/lucide@latest/dist/umd/lucide.js';
          lucideScript.onload = () => {
            setTimeout(() => {
              if (window.lucide) {
                window.lucide.createIcons();
              }
            }, 100);
          };
          document.head.appendChild(lucideScript);
        }

        // åŠ è½½Swiper JS
        if (!window.Swiper) {
          const swiperScript = document.createElement('script');
          swiperScript.src = 'https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js';
          swiperScript.onload = () => {
            this.initSwiper();
            checkComplete();
          };
          swiperScript.onerror = checkComplete;
          document.head.appendChild(swiperScript);
        } else {
          this.initSwiper();
          checkComplete();
        }

        // åŠ è½½è‡ªå®šä¹‰æ ·å¼ (éå¿…éœ€ï¼Œä¸è®¡å…¥åŠ è½½è¿›åº¦)
        const customCSS = document.createElement('link');
        customCSS.rel = 'stylesheet';
        customCSS.href = '/homepage/styles.css';
        document.head.appendChild(customCSS);
      });
    },

    initSwiper() {
      this.$nextTick(() => {
        if (window.Swiper && this.$refs.swiperContainer) {
          this.swiper = new window.Swiper(this.$refs.swiperContainer, {
            autoplay: {
              delay: 5000,
              disableOnInteraction: false,
            },
            loop: true,
            speed: 600,
            effect: 'slide',
            spaceBetween: 8,
            allowTouchMove: true,
            simulateTouch: true,
            roundLengths: true,
            pagination: {
              el: '.swiper-pagination',
              clickable: true,
            },
            navigation: {
              nextEl: '.swiper-button-next',
              prevEl: '.swiper-button-prev',
            },
            // ä½¿ç”¨å¹³æ»‘ç§»åŠ¨åˆ‡æ¢ï¼Œç§»é™¤æ·¡å…¥æ·¡å‡ºé…ç½®
          });
        }
      });
    },

    initMap() {
      this.$nextTick(() => {
        if (this.echarts && this.$refs.chinaChart) {
          this.mapLoading = false;
          this.mapChart = this.echarts.init(this.$refs.chinaChart);
          this.renderChinaMap();
        }
      });
    },

    // æ¸²æŸ“å…¨å›½ï¼ˆçœçº§ï¼‰åœ°å›¾å¹¶é«˜äº®åˆ°è®¿çœä»½
    renderChinaMap() {
      this.currentMapLevel = 'china';
      this.currentProvince = null;
      const visitedProvinces = ['å±±ä¸œçœ', 'å±±è¥¿çœ'];
      
      // å®šä¹‰å®è·µåŸå¸‚åæ ‡ï¼ˆå»æ‰"å¸‚"å­—ï¼‰
      const practiceCities = [
        // å±±ä¸œçœåŸå¸‚
        { name: 'æ·„åš', value: [118.054, 36.813], province: 'å±±ä¸œ' },
        { name: 'æ½åŠ', value: [119.161756, 36.706774], province: 'å±±ä¸œ' },
        { name: 'çƒŸå°', value: [121.447935, 37.463822], province: 'å±±ä¸œ' },
        // å±±è¥¿çœåŸå¸‚
        { name: 'å¤ªåŸ', value: [112.549248, 37.87059], province: 'å±±è¥¿' },
        { name: 'æ™‹åŸ', value: [112.853, 35.497], province: 'å±±è¥¿' },
        { name: 'æ™‹ä¸­', value: [112.736, 37.687], province: 'å±±è¥¿' },
        { name: 'è¿åŸ', value: [111.003, 35.022], province: 'å±±è¥¿' }
      ];
      
      // å¤©æ´¥åæ ‡
      const tianjinCoord = [117.190182, 39.125596];

      const option = {
        title: {
          text: 'å®è·µè¶³è¿¹åœ°å›¾ï¼ˆç‚¹å‡»å±±ä¸œæˆ–å±±è¥¿æŸ¥çœ‹å¸‚çº§è¡Œæ”¿åŒºï¼‰',
          left: 'center',
          textStyle: { color: '#333', fontWeight: 700 }
        },
        tooltip: {
          trigger: 'item',
          formatter: function(params) {
            return params && params.name ? params.name : ''
          }
        },
        geo: {
          map: 'china', 
          roam: false, // ç¦ç”¨ç”¨æˆ·ç¼©æ”¾å’Œæ‹–æ‹½
          zoom: 4.4, // æ”¾å¤§è‡³å°‘ä¸¤å€
          center: [116.5, 39.5], // ååŒ—åœ°åŒºå±…ä¸­
          label: { show: false },
          itemStyle: { areaColor: '#f3f4f6', borderColor: '#9ca3af' },
          emphasis: { label: { show: true, color: '#111827' }, itemStyle: { areaColor: '#fde8e8' } },
          regions: visitedProvinces.map((name) => ({ 
            name, 
            itemStyle: { 
              areaColor: '#f87171', // é™ä½å¯¹æ¯”åº¦çš„çº¢è‰²
              borderColor: '#dc2626',
              borderWidth: 2
            } 
          }))
        },
        series: [
          // å¤©æ´¥logoæ ‡è®°
          {
            name: 'å‡ºå‘åœ°',
            type: 'scatter',
            coordinateSystem: 'geo',
            symbol: `image://${require('@/assets/images/çº¯å›¾logo.png')}`,
            symbolSize: 48, // è¿›ä¸€æ­¥å¢å¤§logoå°ºå¯¸
            label: { 
              show: true, 
              formatter: 'å¤©æ´¥', 
              color: '#1f2937', 
              fontWeight: 600, 
              offset: [0, -16] 
            },
            data: [{ name: 'å¤©æ´¥', value: tianjinCoord }]
          },
          // å®è·µåŸå¸‚æ ‡è®°
          {
            name: 'å®è·µåŸå¸‚',
            type: 'scatter',
            coordinateSystem: 'geo',
            symbol: 'circle',
            symbolSize: 12,
            label: { 
              show: true, 
              formatter: '{b}', 
              color: '#1f2937', // ä¸å¤©æ´¥ä¸€è‡´çš„æ·±ç°è‰²
              fontWeight: 700, 
              offset: [0, -14] 
            },
            itemStyle: { color: '#dc2626', shadowBlur: 8, shadowColor: 'rgba(220,38,38,0.4)' },
            data: practiceCities
          },
          // ä»å¤©æ´¥åˆ°å„å®è·µåŸå¸‚çš„ç®­å¤´
          {
            name: 'å®è·µè·¯çº¿',
            type: 'lines',
            coordinateSystem: 'geo',
            lineStyle: {
              color: '#fbbf24', // äº®é»„è‰²
              width: 2,
              curveness: 0.2, // æ·»åŠ å¼§åº¦
              type: 'solid'
            },
            tooltip: { show: false },
            effect: {
              show: true,
              period: 3,
              trailLength: 0.2,
              color: '#fbbf24', // äº®é»„è‰²
              symbolSize: 6
            },
            data: practiceCities.map(city => ({
              fromName: 'å¤©æ´¥',
              toName: city.name,
              coords: [tianjinCoord, city.value]
            }))
          }
        ]
      };
      this.mapChart.setOption(option, true);
      this.mapChart.off('click');
      this.mapChart.on('click', (params) => {
        // çœä»½ç‚¹å‡»åˆ‡æ¢åˆ°çœçº§åœ°å›¾
        if (params.name === 'å±±ä¸œçœ') this.renderProvinceMap('å±±ä¸œçœ', '370000');
        if (params.name === 'å±±è¥¿çœ') this.renderProvinceMap('å±±è¥¿çœ', '140000');
        
        // åŸå¸‚ç‚¹å‡»è·³è½¬åˆ°å¯¹åº”åšç‰©é¦†
        if (params.seriesType === 'scatter' && params.seriesName === 'å®è·µåŸå¸‚') {
          this.handleCityClick(params.name);
        }
      });
    },

    // æ¸²æŸ“çœä»½çš„å¸‚çº§è¡Œæ”¿åŒºåˆ’
    renderProvinceMap(provinceName, provinceCode) {
      this.currentMapLevel = 'province';
      this.currentProvince = provinceName;
      const url = `https://geo.datav.aliyun.com/areas_v3/bound/geojson?code=${provinceCode}_full`;
      fetch(url)
        .then((r) => r.json())
        .then((geojson) => {
          if (this.echarts && geojson) {
            this.echarts.registerMap(provinceName, geojson);
          }
          
          // å®šä¹‰èµ°è®¿è¿‡çš„åŸå¸‚ï¼ˆå»æ‰"å¸‚"å­—ï¼‰
          let visitedCities = [];
          if (provinceName === 'å±±ä¸œçœ') {
            visitedCities = ['æ·„åšå¸‚', 'æ½åŠå¸‚', 'çƒŸå°å¸‚']; // ä¿æŒåŸå§‹åœ°å›¾æ•°æ®ä¸­çš„åç§°ç”¨äºåŒ¹é…
          } else if (provinceName === 'å±±è¥¿çœ') {
            visitedCities = ['å¤ªåŸå¸‚', 'æ™‹åŸå¸‚', 'æ™‹ä¸­å¸‚', 'è¿åŸå¸‚']; // ä¿æŒåŸå§‹åœ°å›¾æ•°æ®ä¸­çš„åç§°ç”¨äºåŒ¹é…
          }
          
          const option = {
            title: { text: `${provinceName} Â· å¸‚çº§è¡Œæ”¿åŒº`, left: 'center', textStyle: { color: '#333', fontWeight: 700 } },
            tooltip: {
              trigger: 'item',
              formatter: function(params) {
                return params && params.name ? params.name.replace('å¸‚','') : ''
              }
            },
            graphic: [{
              type: 'text', left: 20, top: 16,
              style: { text: 'è¿”å›å…¨å›½', fill: '#ef4444', font: 'bold 14px "Microsoft YaHei", Arial, sans-serif' },
              onclick: () => this.renderChinaMap()
            }],
            geo: {
              map: provinceName, 
              roam: false, // ç¦ç”¨çœçº§åœ°å›¾ç¼©æ”¾
              zoom: 1.1, // ç¨å¾®æ”¾å¤§çœçº§åœ°å›¾
              label: { 
                show: true, 
                color: '#374151', 
                fontSize: 12,
                formatter: function(params) {
                  // ç§»é™¤åŸå¸‚åç§°ä¸­çš„"å¸‚"å­—
                  return params.name.replace('å¸‚', '');
                }
              },
              itemStyle: { areaColor: '#fff', borderColor: '#9ca3af' },
              emphasis: { 
                label: { 
                  show: true, 
                  color: '#111827', 
                  fontWeight: 700,
                  formatter: function(params) {
                    // ç§»é™¤åŸå¸‚åç§°ä¸­çš„"å¸‚"å­—
                    return params.name.replace('å¸‚', '');
                  }
                }, 
                itemStyle: { areaColor: '#fee2e2' } 
              },
              regions: visitedCities.map((name) => ({ 
                name, 
                itemStyle: { 
                  areaColor: '#f87171', // ä¸ä¸»åœ°å›¾ä¸€è‡´çš„é¢œè‰²
                  borderColor: '#dc2626',
                  borderWidth: 2
                } 
              }))
            },
            series: [] // åˆ é™¤æ‰€æœ‰å¤§å¤´é’‰
          };
          this.mapChart && this.mapChart.setOption(option, true);
          this.mapChart && this.mapChart.off('click');
          this.mapChart && this.mapChart.on('click', (params) => {
            // ç‚¹å‡»ä»»ä½•åŸå¸‚éƒ½è·³è½¬åˆ°å¯¹åº”çœä»½åšç‰©é¦†
            if (visitedCities.includes(params.name)) {
              this.handleCityClick(params.name);
            }
          });
        })
        .catch(() => { /* å¿½ç•¥é”™è¯¯ï¼Œä¿æŒç°çŠ¶ */ });
    },



    toggleTheme() {
      // ä¸»é¢˜åˆ‡æ¢é€»è¾‘
      document.body.classList.toggle('dark');
      document.documentElement.setAttribute('data-theme', 
        document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'
      );
    },

    showPracticeResults() {
      // è·³è½¬åˆ°å®è·µæˆæœé¡µé¢
      this.$router.push('/results');
    },

    handleCityClick(cityName) {
      // å¤„ç†åŸå¸‚ç‚¹å‡»äº‹ä»¶ï¼Œè·³è½¬åˆ°å¯¹åº”åšç‰©é¦†
      // ç»Ÿä¸€å¤„ç†åŸå¸‚åç§°ï¼Œç§»é™¤"å¸‚"å­—è¿›è¡Œæ¯”è¾ƒ
      const normalizedCityName = cityName.replace('å¸‚', '');
      const shanxiCities = ['å¤ªåŸ', 'æ™‹åŸ', 'æ™‹ä¸­', 'è¿åŸ'];
      const shandongCities = ['æ·„åš', 'æ½åŠ', 'çƒŸå°'];
      
      if (shanxiCities.includes(normalizedCityName)) {
        // è·³è½¬åˆ°å±±è¥¿æ•°å­—åšç‰©é¦†é¦–é¡µï¼ˆå¸¦å¯¼èˆªæ ï¼‰
        this.$router.push('/home');
      } else if (shandongCities.includes(normalizedCityName)) {
        // å±±ä¸œåšç‰©é¦†æš‚æœªå¼€å‘ï¼Œæ˜¾ç¤ºæç¤º
        alert(`${normalizedCityName}å¯¹åº”çš„å±±ä¸œæ•°å­—åšç‰©é¦†æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼`);
      }
    },

    // éé—åˆ†çº§/åŸå¸‚åˆ†å¸ƒå›¾
    initCharts() {
      return new Promise((resolve) => {
        if (!window.echarts) {
          resolve();
          return;
        }
      // ç«ç‘°å›¾
      const levelEl = this.$refs.heritageLevelChart;
      if (levelEl) {
        const level = window.echarts.init(levelEl);
        level.setOption({
          color: ['#ef4444','#f97316','#f59e0b','#6b7280'],
          tooltip: { trigger: 'item', formatter: '{b}: {c} ({d}%)' },
          legend: { bottom: 0, textStyle: { color: '#6b7280' } },
          series: [{
            type: 'pie', name: 'åˆ†çº§å æ¯”', roseType: 'radius',
            radius: ['25%','70%'], center: ['50%','45%'],
            itemStyle: { borderRadius: 8, borderColor: '#fff', borderWidth: 2 },
            label: { color: '#374151' },
            emphasis: { label: { show: true, fontWeight: 800, color: '#111827' } },
            data: [
              { value: 1, name: 'è”åˆå›½çº§' },
              { value: 4, name: 'å›½å®¶çº§' },
              { value: 5, name: 'çœçº§' },
              { value: 1, name: 'å¸‚çº§' }
            ]
          }],
          animationDuration: 800,
          animationEasing: 'cubicOut'
        });
      }

      // æ¨ªå‘æŸ±çŠ¶
      const cityEl = this.$refs.cityCountChart;
      if (cityEl) {
        const city = window.echarts.init(cityEl);
        city.setOption({
          tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
          grid: { left: 16, right: 16, bottom: 18, top: 26, containLabel: true },
          xAxis: {
            type: 'value', boundaryGap: [0,0.01],
            axisLabel: { color: '#6b7280' },
            splitLine: { lineStyle: { color: '#f3f4f6' } }
          },
          yAxis: {
            type: 'category', data: ['çƒŸå°','æ½åŠ','æ·„åš'],
            axisLabel: { color: '#374151' }
          },
          series: [{
            type: 'bar', name: 'å±•é¡¹æ•°é‡', barWidth: 18,
            itemStyle: {
              color: new window.echarts.graphic.LinearGradient(0,0,1,0,[
                { offset: 0, color: '#fecaca' },
                { offset: 1, color: '#ef4444' }
              ]),
              borderRadius: [0,8,8,0]
            },
            label: { show: true, position: 'right', color: '#ef4444', fontWeight: 700 },
            data: [1,4,5] // å¯¹åº”çƒŸå°ã€æ½åŠã€æ·„åšçš„é¡¹ç›®æ•°é‡
          }],
          animationDuration: 700,
          animationEasing: 'cubicOut'
        });
        this.chart = city;
      }
      
      // å›¾è¡¨åˆå§‹åŒ–å®Œæˆ
      resolve();
      });
    }
  }
}
</script>

<style>
/* å…¨å±€åŠ è½½åŠ¨ç”»æ ·å¼ */
.page-loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  backdrop-filter: blur(10px);
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2rem;
  text-align: center;
}

.loading-spinner-ring {
  width: 80px;
  height: 80px;
  border: 6px solid #f1f5f9;
  border-top: 6px solid #ef4444;
  border-radius: 50%;
  animation: spinner-ring 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
}

@keyframes spinner-ring {
  0% {
    transform: rotate(0deg) scale(1);
  }
  50% {
    transform: rotate(180deg) scale(1.1);
  }
  100% {
    transform: rotate(360deg) scale(1);
  }
}

.loading-text {
  font-size: 1.5rem;
  font-weight: 600;
  color: #374151;
  margin-bottom: 0.5rem;
}

.loading-progress {
  width: 300px;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: #e5e7eb;
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%);
  border-radius: 4px;
  transition: width 0.3s ease;
  position: relative;
}

.progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
  animation: progress-shimmer 1.5s infinite;
}

@keyframes progress-shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.progress-text {
  text-align: center;
  font-size: 0.875rem;
  color: #6b7280;
  font-weight: 500;
}

/* å¯¼å…¥åŸå§‹homepageæ ·å¼ï¼Œé›†æˆå®Œæ•´CSSå˜é‡ç³»ç»Ÿ */

/* CSSå˜é‡ - é€æ˜åº¦å’Œé˜´å½±ç³»ç»Ÿ */
:root {
  /* Z-indexå±‚çº§ */
  --z-negative: -1;
  --z-base: 0;
  --z-raised: 1;
  --z-dropdown: 1000;
  --z-sticky: 1100;
  --z-fixed: 1200;
  --z-modal: 1300;
  --z-popover: 1400;
  --z-tooltip: 1500;
  
  /* æ»šåŠ¨æ¡ */
  --scrollbar-track: #f5f7fa;
  --scrollbar-thumb: #c1c1c1;
  --scrollbar-thumb-hover: #a8a8a8;
  
  /* ä¸»è‰²å½© */
  --primary: #818cf8;
  --primary-hover: #6366f1;
  --primary-active: #6366f1;
  --secondary: #9F7AEA;
  --secondary-hover: #B794F4;
  --secondary-active: #805AD5;
  --accent: #553C9A;
  --accent-hover: #6B46C1;
  --accent-active: #44337A;
  --neutral: #4B5563;
  --neutral-hover: #6B7280;
  --neutral-active: #374151;
  
  /* åŸºç¡€è‰²å½© */
  --base-100: #FFFFFF;
  --base-200: #F9FAFB;
  --base-300: #F3F4F6;
  --base-content: #1F2937;
  
  /* çŠ¶æ€è‰²å½© */
  --info: #6366F1;
  --info-content: #FFFFFF;
  --success: #10B981;
  --success-content: #FFFFFF;
  --warning: #F59E0B;
  --warning-content: #FFFFFF;
  --error: #EF4444;
  --error-content: #FFFFFF;
  
  /* æ–‡æœ¬è‰²å½© */
  --text-base: #1F2937;
  --text-muted: #4B5563;
  --text-disabled: #9CA3AF;
  --text-placeholder: #D1D5DB;
  
  /* è¾¹æ¡†è‰²å½© */
  --border-base: #E5E7EB;
  --border-light: #F3F4F6;
  
  /* é˜´å½±ç³»ç»Ÿ */
  --shadow-sm: rgba(147, 147, 250, .05);
  --shadow-md: rgba(147, 147, 250, .1);
  --shadow-lg: rgba(147, 147, 250, .15);
}

/* æš—è‰²ä¸»é¢˜å˜é‡ */
[data-theme="dark"], .dark {
  --base-100: #0F172A;
  --base-200: #1E293B;
  --base-300: #334155;
  --base-content: #F1F5F9;
  --text-base: #F1F5F9;
  --text-muted: #94A3B8;
  --text-disabled: #64748B;
  --text-placeholder: #475569;
  --border-base: #334155;
  --border-light: #1E293B;
  --scrollbar-track: #1E293B;
  --scrollbar-thumb: #475569;
  --scrollbar-thumb-hover: #64748B;
}

/* èƒŒæ™¯è‰² */
.bg-background {
  background-color: var(--base-100);
}

.text-foreground {
  color: var(--text-base);
}

/* æ¯›ç»ç’ƒæ•ˆæœ */
.backdrop-blur-md {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.header-glass {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(254, 242, 242, 0.95) 100%);
  backdrop-filter: blur(20px);
  border-bottom: 2px solid rgba(220, 38, 38, 0.2);
  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.1);
}

[data-theme="dark"] .header-glass,
.dark .header-glass {
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%);
  border-bottom: 2px solid rgba(220, 38, 38, 0.3);
  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.2);
}

/* è½®æ’­å›¾æ ·å¼ */
.hero-carousel-section {
  height: 60vh;
  width: 100%;
  position: relative;
  max-height: 500px;
  min-height: 300px;
}

.swiper-container {
  width: 100%;
  height: 100%;
}

.swiper-slide {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Swiper åˆ†é¡µå™¨æ ·å¼ */
.swiper-pagination {
  bottom: 20px !important;
  z-index: 10;
}

.swiper-pagination-bullet {
  width: 10px;
  height: 10px;
  background: rgba(255, 255, 255, 0.6);
  opacity: 1;
  transition: all 0.3s ease;
  margin: 0 4px;
}

.swiper-pagination-bullet-active {
  background: #fff;
  transform: scale(1.2);
}

/* Swiper å¯¼èˆªæŒ‰é’®æ ·å¼ */
.swiper-button-next,
.swiper-button-prev {
  color: rgba(255, 255, 255, 0.7);
  background: rgba(0, 0, 0, 0.2);
  width: 40px;
  height: 40px;
  border-radius: 50%;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.swiper-button-next:hover,
.swiper-button-prev:hover {
  color: #fff;
  background: rgba(0, 0, 0, 0.4);
  transform: scale(1.1);
}

.swiper-button-next::after,
.swiper-button-prev::after {
  font-size: 16px;
  font-weight: bold;
}

/* åœ°å›¾åŒºåŸŸæ ·å¼ */
.map-section {
  background: linear-gradient(135deg, #fef2f2 0%, #ffffff 50%, #fef2f2 100%);
  min-height: 100vh;
  padding-top: 2rem;
  position: relative;
}

.map-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, #DC2626 50%, transparent 100%);
}

/* ä¸­å›½åœ°å›¾æ ·å¼ */
.china-map {
  width: 100%;
  height: 700px; /* è¿›ä¸€æ­¥å¢åŠ åœ°å›¾é«˜åº¦ */
  position: relative;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

/* åœ°å›¾å·¦ä¸Šè§’å›¢é˜Ÿ Logo */
.map-corner-logo {
  position: absolute;
  top: 10px;
  left: 10px;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  object-fit: cover;
  background: #fff;
  box-shadow: 0 6px 16px rgba(0,0,0,0.15);
  border: 2px solid rgba(255,255,255,0.9);
  z-index: 5;
}

/* å…³é”®æ•°æ®æ€»è§ˆ */
.stats-extended { padding: 3rem 0; background: linear-gradient(180deg,#fff 0%,#f9fafb 100%); }
.section-title { font-size: 1.75rem; font-weight: 800; text-align: center; margin-bottom: 1.5rem; }
.stats-grid { display: grid; grid-template-columns: repeat(5, minmax(0, 1fr)); gap: 1rem; }
.stat-card { background: #ffffff; border: 1px solid #eef2f7; border-radius: 16px; padding: 1.25rem; text-align: center; box-shadow: 0 10px 20px rgba(0,0,0,0.04); transition: transform .2s ease, box-shadow .2s ease; }
.stat-card:hover { transform: translateY(-4px); box-shadow: 0 16px 30px rgba(0,0,0,0.08); }
.stat-icon { font-size: 1.5rem; margin-bottom: .5rem; }
.stat-num { font-size: 1.8rem; font-weight: 800; color: #111827; }
.stat-desc { color: #6b7280; font-size: .95rem; margin-top: .25rem; }

@media (max-width: 1024px){ .stats-grid { grid-template-columns: repeat(3, minmax(0,1fr)); } }
@media (max-width: 640px){ .stats-grid { grid-template-columns: repeat(2, minmax(0,1fr)); } }

/* äº¤é”™å›¾æ–‡å— */
.features-alt { padding: 2.5rem 0; }
.feature-row { display: grid; grid-template-columns: 1.2fr 1fr; gap: 2rem; align-items: center; margin-bottom: 2.5rem; }
.feature-row.reverse { grid-template-columns: 1fr 1.2fr; }
.feature-row.reverse .feature-text { order: 2; }
.feature-row.reverse .feature-media { order: 1; }
.feature-text h4 { font-size: 1.5rem; font-weight: 800; margin-bottom: .75rem; }
.feature-text p { color: #374151; margin-bottom: .75rem; }
.feature-list { padding-left: 1rem; color: #4b5563; }
.feature-list li { list-style: disc; margin: .25rem 0; }
.feature-media img { width: 100%; border-radius: 16px; box-shadow: 0 12px 24px rgba(0,0,0,.08); }
@media (max-width: 992px){ .feature-row, .feature-row.reverse { grid-template-columns: 1fr; } }

/* äº¤é”™å›¾æ–‡å— Â· å¢å¼ºå…ƒç´  */
.feature-badges { display: flex; flex-wrap: wrap; gap: .5rem; margin-top: .5rem; }
.badge { display: inline-block; padding: 4px 10px; border-radius: 999px; background: #f3f4f6; color: #374151; font-weight: 700; font-size: .85rem; }
.badge-red { background: #fef2f2; color: #ef4444; border: 1px solid #fee2e2; }
.feature-cta { display: flex; gap: .75rem; margin-top: .75rem; }
.btn { padding: 8px 14px; border-radius: 10px; font-weight: 700; border: 1px solid #e5e7eb; background: #fff; color: #111827; transition: all .2s ease; }
.btn:hover { transform: translateY(-1px); box-shadow: 0 8px 16px rgba(0,0,0,.06); }
.btn-primary { background: linear-gradient(135deg, #DC2626 0%, #EF4444 100%); color: #fff; border-color: transparent; }
.btn-ghost { background: #fff; color: #ef4444; border-color: #fecaca; }

/* é¡¹ç›®å‘å±• - çºµå‘æ—¶é—´è½´ï¼ˆå‚è€ƒâ€œå‘å±•å†ç¨‹â€ï¼‰ */
.timeline-section { padding: 3rem 0; background: #f5f7fb; }
.timeline-vertical .timeline-grid { display: grid; grid-template-columns: 1fr 160px; gap: 24px; align-items: start; }
.timeline-vertical .timeline-main { position: relative; padding-right: 24px; }
.timeline-vertical .year-large { font-size: 96px; font-weight: 800; color: #374151; letter-spacing: 2px; margin-bottom: 12px; }
.timeline-vertical .timeline-list { list-style: none; padding: 0; margin: 0; border-left: 3px solid #ef4444; }
.timeline-vertical .tlv-item { position: relative; padding: 16px 0 16px 24px; }
.timeline-vertical .tlv-item::before { content: ''; position: absolute; left: -7px; top: 24px; width: 10px; height: 10px; background: #ef4444; border-radius: 50%; box-shadow: 0 0 0 6px rgba(239,68,68,.12); }
.timeline-vertical .tlv-title { font-weight: 800; font-size: 18px; color: #111827; margin-bottom: 4px; }
.timeline-vertical .tlv-meta { color: #ef4444; font-weight: 700; margin-bottom: 4px; }
.timeline-vertical .tlv-desc { color: #6b7280; line-height: 1.8; }
.timeline-vertical .timeline-more { margin-top: 12px; color: #ef4444; font-weight: 700; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; }

.timeline-vertical .year-side { position: sticky; top: 96px; }
.timeline-vertical .year-side ul { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 12px; align-items: flex-end; }
.timeline-vertical .year-side li { color: #9ca3af; cursor: default; font-weight: 700; }
.timeline-vertical .year-side li.active { color: #ef4444; }

@media (max-width: 1024px){
  .timeline-vertical .timeline-grid { grid-template-columns: 1fr; }
  .timeline-vertical .year-side { position: static; order: -1; }
  .timeline-vertical .year-side ul { flex-direction: row; justify-content: flex-start; gap: 16px; }
}

/* å›¾è¡¨åŒºåŸŸ */
.heritage-charts { padding: 2.5rem 0; background: #f9fafb; }
.charts-grid { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 1.25rem; }
.chart-box { background: #fff; border: 1px solid #eef2f7; border-radius: 16px; padding: 1rem; box-shadow: 0 12px 24px rgba(0,0,0,.05); }
.chart-title { font-weight: 800; margin: .25rem 0 .5rem; color: #111827; }
.chart-canvas { width: 100%; height: 320px; }
@media (max-width: 768px){ .charts-grid { grid-template-columns: 1fr; } .chart-canvas{ height: 260px; } }

.loading-indicator {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  color: #6b7280;
  font-size: 14px;
}

.loading-spinner {
  width: 32px;
  height: 32px;
  border: 3px solid #f3f4f6;
  border-top: 3px solid #dc2626;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* å®è·µæˆæœæŒ‰é’®æ ·å¼ */
.practice-success-btn {
  background: linear-gradient(135deg, #DC2626 0%, #EF4444 100%);
  border: none;
  border-radius: 16px;
  padding: 0;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 
    0 8px 25px rgba(220, 38, 38, 0.3),
    0 4px 12px rgba(220, 38, 38, 0.2);
  position: relative;
  overflow: hidden;
  display: block;
  width: 100%;
  margin: 0;
  min-height: 96px;
  outline: none;
}

.practice-success-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(255, 255, 255, 0.1) 100%);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.practice-success-btn:hover::before {
  opacity: 1;
}

.practice-success-btn:hover {
  transform: translateY(-4px) scale(1.05);
  box-shadow: 
    0 12px 35px rgba(220, 38, 38, 0.4),
    0 6px 18px rgba(220, 38, 38, 0.25);
}

.practice-success-btn:active {
  transform: translateY(-2px) scale(1.02);
  transition: all 0.15s ease;
}

.btn-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  padding: 24px 16px;
  color: white;
  position: relative;
  z-index: 1;
}

.btn-icon {
  font-size: 3rem;
  margin-bottom: 16px;
  animation: bounce 2s infinite;
}

.btn-text {
  font-size: 1.125rem;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  line-height: 1.2;
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-8px);
  }
  60% {
    transform: translateY(-4px);
  }
}

.gradient-title {
  background: linear-gradient(135deg, #DC2626 0%, #EF4444 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 1024px) {
  .practice-success-btn {
    width: 140px;
    height: 180px;
  }
  
  .btn-icon {
    font-size: 2.5rem;
    margin-bottom: 12px;
  }
  
  .btn-text {
    font-size: 1rem;
  }
}

@media (max-width: 768px) {
  .hero-carousel-section {
    height: 50vh;
    max-height: 400px;
    min-height: 250px;
  }
  
  .swiper-button-next,
  .swiper-button-prev {
    display: none;
  }
  
  .swiper-pagination {
    bottom: 15px !important;
  }
  
  .swiper-pagination-bullet {
    width: 8px;
    height: 8px;
    margin: 0 3px;
  }
  
  /* ç§»åŠ¨ç«¯æ”¹ä¸ºæ°´å¹³å¸ƒå±€ */
  .flex.items-center.justify-between {
    flex-direction: column;
    gap: 2rem;
  }
  
  .practice-success-btn {
    width: 120px;
    height: 160px;
  }
  
  .btn-icon {
    font-size: 2rem;
    margin-bottom: 8px;
  }
  
  .btn-text {
    font-size: 0.875rem;
  }
  
  .china-map {
    height: 550px; /* ç§»åŠ¨ç«¯ä¹Ÿç›¸åº”å¢åŠ é«˜åº¦ */
  }
}

@media (max-width: 480px) {
  .hero-carousel-section {
    height: 45vh;
    max-height: 350px;
    min-height: 220px;
  }
  
  .china-map {
    height: 480px; /* å°å±è®¾å¤‡ä¹Ÿç›¸åº”å¢åŠ é«˜åº¦ */
  }
}

.homepage {
  min-height: 100vh;
  background-color: #f8fafc;
}



.hero-carousel-section {
  height: 60vh;
}

.swiper-container {
  height: 100%;
}

.swiper-slide {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: transform 0.6s ease-in-out; /* å¹³æ»‘è¿‡æ¸¡ä½“éªŒ */
}

.gradient-title {
  background: linear-gradient(135deg, #DC2626 0%, #EF4444 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.china-map {
  height: 500px;
  width: 100%;
  position: relative;
}

.loading-indicator {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid #f3f4f6;
  border-top: 4px solid #dc2626;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.practice-success-btn {
  background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
  color: white;
  border: none;
  border-radius: 1rem;
  padding: 1.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(220, 38, 38, 0.3);
}

.practice-success-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 15px rgba(220, 38, 38, 0.4);
}

.btn-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}

.btn-icon {
  font-size: 2rem;
}

.btn-text {
  font-weight: 600;
  font-size: 1rem;
}

.map-section {
  background: linear-gradient(to bottom, #f8fafc, #ffffff);
}

/* â€”â€”â€” å®è·µæˆæœä¾§è¾¹æ ï¼ˆæ¡Œé¢ç«¯ï¼‰ â€”â€”â€” */
.results-aside {
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 240px;
  position: sticky;
  top: 96px;
}

.mini-cards { display: flex; flex-direction: column; gap: 12px; }
.mini-card {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  margin: 0;
  border-radius: 12px;
  background: #ffffff;
  border: 1px solid #eef2f7;
  box-shadow: 0 10px 20px rgba(0,0,0,0.04);
}
.mini-icon {
  width: 36px; height: 36px; border-radius: 999px; display: grid; place-items: center;
  color: #fff; font-weight: 800; font-size: .9rem;
}
.mini-icon.un { background: linear-gradient(135deg, #f59e0b, #d97706); }
.mini-icon.national { background: linear-gradient(135deg, #dc2626, #991b1b); }
.mini-icon.provincial { background: linear-gradient(135deg, #2563eb, #1d4ed8); }
.mini-icon.municipal { background: linear-gradient(135deg, #059669, #047857); }
.mini-icon.neutral { background: #fee2e2; color: #ef4444; font-size: 1.1rem; }
.mini-num { font-weight: 800; color: #111827; line-height: 1; }
.mini-label { font-size: .85rem; color: #6b7280; }

/* ä¾§è¾¹æ ä¸ç§»åŠ¨ç«¯æ˜¾ç¤ºæ§åˆ¶ */
@media (max-width: 1024px) {
  .results-aside { display: none; }
}
@media (min-width: 1025px) {
  .results-cards-mobile { display: none !important; }
}

/* æˆæœé€Ÿè§ˆï¼ˆstat-cardï¼‰å¢å¼ºæ ·å¼ */
.stat-card {
  position: relative;
  overflow: hidden;
  border-radius: 16px;
  background: #ffffff;
  border: 1px solid #eef2f7;
  box-shadow: 0 10px 20px rgba(0,0,0,0.04);
  transition: transform .25s ease, box-shadow .25s ease;
}
.stat-card::after {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 4px;
  background: linear-gradient(90deg, #DC2626 0%, #EF4444 100%);
}
.stat-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 18px 36px rgba(0,0,0,0.08);
}
.stat-card .stat-num {
  background: linear-gradient(135deg, #DC2626, #EF4444);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-size: 2rem;
  line-height: 1.1;
}
.stat-card .stat-desc {
  color: #6b7280;
}

/* å›¢é˜Ÿç®€ä»‹ */
 .team-section { padding: 2.5rem 0; background: #ffffff; }
 .team-hero { display: grid; grid-template-columns: 1fr; gap: 1rem; align-items: center; max-width: 960px; margin: 0 auto 1.5rem; }
 .team-brand { display: flex; align-items: center; gap: 1rem; }
 .team-logo { width: 56px; height: 56px; border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,.08); object-fit: cover; background: #fff; border: 1px solid #eef2f7; }
 .team-name { font-size: 1.5rem; font-weight: 800; color: #111827; }
 .team-slogan { color: #ef4444; font-weight: 700; }
 .team-intro { color: #4b5563; line-height: 1.9; }
 .team-intro-grid { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 1rem; max-width: 1100px; margin: 0 auto; }
 .team-card { background: #fff; border: 1px solid #eef2f7; border-radius: 16px; padding: 1rem; box-shadow: 0 10px 24px rgba(0,0,0,.04); }
 .team-card-title { font-weight: 800; color: #111827; margin-bottom: .5rem; }
 .team-card-text { color: #374151; }
 .bullet-list { padding-left: 1rem; color: #4b5563; }
 .bullet-list li { list-style: disc; margin: .25rem 0; }
 .advisors-list, .members-list { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: .5rem; }
 .advisor-item, .member-item { display: flex; align-items: center; gap: .5rem; }
 .avatar { width: 32px; height: 32px; display: grid; place-items: center; background: #fef2f2; border: 1px solid #fee2e2; border-radius: 10px; }
 .member-item .tag { display: inline-block; padding: 2px 8px; border-radius: 999px; background: #fef2f2; color: #ef4444; font-weight: 700; font-size: .8rem; margin-right: .25rem; }
 .member-item .name { color: #374151; }
 @media (max-width: 992px){ .team-intro-grid { grid-template-columns: 1fr; } }

/* é¡µè„š */
.site-footer {
  background: linear-gradient(180deg, #fff5f5 0%, #fff 100%);
  border-top: 1px solid #eef2f7;
  padding: 24px 0 32px;
}
.site-footer .footer-inner { display: grid; grid-template-columns: 1fr; gap: 12px; max-width: 1100px; margin: 0 auto; }
.site-footer .brand-name { font-weight: 800; color: #111827; }
.site-footer .brand-desc { color: #6b7280; }

/* éé—é¡¹ç›®å±•ç¤ºæ ·å¼ */
.heritage-projects-section {
  padding: 3rem 0;
  background: linear-gradient(135deg, #fef7f0 0%, #ffffff 50%, #f0f9ff 100%);
}

.heritage-categories {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.heritage-category {
  background: #ffffff;
  border-radius: 16px;
  padding: 1.5rem;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  border: 1px solid #f1f5f9;
}

.category-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

.level-badge {
  padding: 0.5rem 1rem;
  border-radius: 999px;
  font-weight: 700;
  font-size: 0.875rem;
  color: white;
}

.level-un { background: linear-gradient(135deg, #f59e0b, #d97706); }
.level-national { background: linear-gradient(135deg, #dc2626, #991b1b); }
.level-provincial { background: linear-gradient(135deg, #2563eb, #1d4ed8); }
.level-municipal { background: linear-gradient(135deg, #059669, #047857); }

.category-title {
  font-size: 1.25rem;
  font-weight: 700;
  color: #1f2937;
}

.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 1rem;
}

.project-card {
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  padding: 1rem;
  transition: all 0.3s ease;
  cursor: pointer;
}

.project-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  border-color: #dc2626;
}

.project-name {
  font-weight: 600;
  color: #1f2937;
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.project-region {
  font-size: 0.875rem;
  color: #6b7280;
}

.heritage-summary {
  display: flex;
  justify-content: center;
  gap: 3rem;
  margin-top: 2rem;
  padding: 1.5rem;
  background: linear-gradient(135deg, #dc2626, #ef4444);
  border-radius: 16px;
  color: white;
}

.summary-item {
  text-align: center;
}

.summary-number {
  display: block;
  font-size: 2rem;
  font-weight: 800;
  margin-bottom: 0.25rem;
}

.summary-label {
  font-size: 0.875rem;
  opacity: 0.9;
}

.heritage-level-card {
  transition: all 0.3s ease;
  padding: 1rem; /* å‡å°‘å†…è¾¹è· */
}

.heritage-level-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
}

.heritage-level-card .w-12 {
  width: 2.5rem; /* ç¼©å°å›¾æ ‡å°ºå¯¸ */
  height: 2.5rem;
}

.heritage-level-card .text-2xl {
  font-size: 1.5rem; /* ç¼©å°æ•°å­—å­—ä½“ */
}

.heritage-level-card .text-gray-600 {
  font-size: 0.875rem; /* ç¼©å°æ ‡ç­¾å­—ä½“ */
}

/* ç§»åŠ¨ç«¯é€‚é… */
@media (max-width: 768px) {
  .hero-carousel-section {
    height: 50vh;
  }
  
  .china-map {
    height: 300px;
  }
  
  .text-4xl {
    font-size: 2rem;
  }
  
  .flex-col {
    flex-direction: column;
  }
  
  .heritage-summary {
    flex-direction: column;
    gap: 1.5rem;
  }
  
  .projects-grid {
    grid-template-columns: 1fr;
  }
  
  .heritage-categories {
    gap: 1.5rem;
  }
  
  .heritage-category {
    padding: 1rem;
  }
  
  .category-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
}
</style>